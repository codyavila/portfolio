@import "tailwindcss";

@variant dark (&:where(.dark, .dark *));

:root {
  /* ═══════════════════════════════════════════════════════════════════════════
     PROJECT LUMINOUS — Design System Tokens v1.0
     "Bioluminescent Material" | Interface as an Organism
     ═══════════════════════════════════════════════════════════════════════════ */

  /* ─────────────────────────────────────────────────────────────────────────────
     LAYER 0: THE VOID (Canvas/Background)
     Deep violet-blacks, never pure black. Warm and magical.
     ───────────────────────────────────────────────────────────────────────────── */
  --lum-void-deep: #08040C;
  --lum-void-surface: #120E1A;
  --lum-void-elevated: #1a1425;
  --lum-void-accent: #241c32;

  /* ─────────────────────────────────────────────────────────────────────────────
     PLAYFUL GRADIENTS (The Life) — Holographic/Bioluminescent
     Used for buttons, active borders, hero text
     ───────────────────────────────────────────────────────────────────────────── */
  --lum-grad-cyber-lime: linear-gradient(135deg, #CCFF00 0%, #00FF99 100%);
  --lum-grad-cotton-candy: linear-gradient(135deg, #FF99CC 0%, #33CCFF 100%);
  --lum-grad-solar-flare: linear-gradient(135deg, #FFCC00 0%, #FF3366 100%);
  --lum-grad-holographic: linear-gradient(135deg, #ccff00, #00ff99, #33ccff, #ff99cc, #ff3366, #ccff00);
  --lum-grad-aurora: linear-gradient(135deg, #00ff99 0%, #33ccff 50%, #ff99cc 100%);

  /* Neon Color Rails (individual colors) */
  --neon-primary-start: #ccff00;
  --neon-primary-end: #00ff99;
  --neon-secondary-start: #ff99cc;
  --neon-secondary-end: #33ccff;
  --neon-alert-start: #ffcc00;
  --neon-alert-end: #ff3366;
  --neon-cyan: #00ffff;
  --neon-magenta: #ff00ff;
  --neon-lime: #ccff00;

  /* Extended Neon Palette — Semantic Colors */
  --lum-neon-blue: #33ccff;
  --lum-neon-purple: #a855f7;
  --lum-neon-pink: #ff6b9d;
  --lum-neon-green: #00ff99;
  --lum-neon-yellow: #ffcc00;
  --lum-neon-cyan: #00ffff;
  --lum-cotton-candy: #ff99cc;

  /* ─────────────────────────────────────────────────────────────────────────────
     TEXT SYSTEM — With Glass Legibility Shadow
     ───────────────────────────────────────────────────────────────────────────── */
  --text-primary: #f8f3ff;
  --text-secondary: rgba(248, 243, 255, 0.78);
  --text-tertiary: rgba(248, 243, 255, 0.55);
  --text-disabled: rgba(248, 243, 255, 0.28);
  --text-glass-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  --text-glow-primary: 0 0 20px rgba(204, 255, 0, 0.5), 0 0 40px rgba(0, 255, 153, 0.3);
  --text-glow-secondary: 0 0 20px rgba(255, 153, 204, 0.5), 0 0 40px rgba(51, 204, 255, 0.3);

  /* ─────────────────────────────────────────────────────────────────────────────
     GLASS MATERIALS — Optical Density System (Spatial UI Layers)
     Layer 1 (Ghost): Mist — Ambient, recessive context
     Layer 2 (Prism): Interactive cards — High refraction
     Layer 3 (Lume): Source — Emissive, modals, floating nav
     ───────────────────────────────────────────────────────────────────────────── */
  --glass-ghost-fill: rgba(255, 255, 255, 0.02);
  --glass-ghost-blur: 10px;
  --glass-ghost-noise: 0.02;

  --glass-prism-fill: rgba(255, 255, 255, 0.05);
  --glass-prism-blur: 30px;
  --glass-prism-noise: 0.04;

  --glass-lume-fill: rgba(255, 255, 255, 0.15);
  --glass-lume-blur: 50px;
  --glass-lume-noise: 0.05;

  /* ─────────────────────────────────────────────────────────────────────────────
     LEGACY GLASS ALIASES — For backwards compatibility
     ───────────────────────────────────────────────────────────────────────────── */
  --glass-1-fill: var(--glass-ghost-fill);
  --glass-1-border: rgba(255, 255, 255, 0.06);
  --glass-1-blur: var(--glass-ghost-blur);

  --glass-2-fill: var(--glass-prism-fill);
  --glass-2-border: rgba(255, 255, 255, 0.12);
  --glass-2-blur: var(--glass-prism-blur);

  --glass-3-fill: rgba(255, 255, 255, 0.09);
  --glass-3-border: rgba(255, 255, 255, 0.2);
  --glass-3-blur: 36px;

  --glass-4-fill: var(--glass-lume-fill);
  --glass-4-border: rgba(255, 255, 255, 0.28);
  --glass-4-blur: var(--glass-lume-blur);

  /* ─────────────────────────────────────────────────────────────────────────────
     SPRING PHYSICS — Motion Tokens (No linear ease allowed!)
     ───────────────────────────────────────────────────────────────────────────── */
  --spring-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --spring-smooth: cubic-bezier(0.25, 0.8, 0.25, 1);
  --spring-snappy: cubic-bezier(0.2, 0.8, 0.3, 1.2);
  --spring-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Base Variables for Theme Provider */
  --background: var(--lum-void-surface);
  --foreground: var(--text-primary);
}

/* ═══════════════════════════════════════════════════════════════════════════════
   LIGHT MODE — Clean, warm, professional
   Using :root:not(.dark) to match next-themes behavior
   ═══════════════════════════════════════════════════════════════════════════════ */
:root:not(.dark),
html:not(.dark) {
  --lum-void-deep: #fafafa;
  --lum-void-surface: #ffffff;
  --lum-void-elevated: #f5f3f7;
  --lum-void-accent: #ebe8ef;

  /* Adjusted neon colors for light mode - deeper, more visible */
  --neon-primary-start: #65a30d;
  --neon-primary-end: #047857;
  --neon-secondary-start: #db2777;
  --neon-secondary-end: #0284c7;
  --neon-alert-start: #d97706;
  --neon-alert-end: #dc2626;
  --neon-cyan: #0891b2;
  --neon-magenta: #c026d3;
  --neon-lime: #65a30d;

  --lum-neon-blue: #0369a1;
  --lum-neon-purple: #7c3aed;
  --lum-neon-pink: #be185d;
  --lum-neon-green: #047857;
  --lum-neon-yellow: #b45309;
  --lum-neon-cyan: #0e7490;
  --lum-cotton-candy: #db2777;

  /* Light mode gradients */
  --lum-grad-cyber-lime: linear-gradient(135deg, #65a30d 0%, #047857 100%);
  --lum-grad-cotton-candy: linear-gradient(135deg, #db2777 0%, #0284c7 100%);
  --lum-grad-solar-flare: linear-gradient(135deg, #d97706 0%, #dc2626 100%);

  /* Text for light mode - darker for better readability */
  --text-primary: #0f0d12;
  --text-secondary: #3d3846;
  --text-tertiary: #635c6d;
  --text-disabled: #9a92a6;
  --text-glass-shadow: none;
  --text-glow-primary: none;
  --text-glow-secondary: none;

  /* Glass materials for light mode - visible cards with subtle shadows */
  --glass-ghost-fill: rgba(255, 255, 255, 0.7);
  --glass-ghost-blur: 8px;
  --glass-prism-fill: rgba(255, 255, 255, 0.85);
  --glass-prism-blur: 12px;
  --glass-lume-fill: rgba(255, 255, 255, 0.95);
  --glass-lume-blur: 16px;

  --glass-1-fill: rgba(255, 255, 255, 0.7);
  --glass-1-border: rgba(0, 0, 0, 0.08);
  --glass-2-fill: rgba(255, 255, 255, 0.85);
  --glass-2-border: rgba(0, 0, 0, 0.1);
  --glass-3-fill: rgba(255, 255, 255, 0.9);
  --glass-3-border: rgba(0, 0, 0, 0.12);
  --glass-4-fill: rgba(255, 255, 255, 0.95);
  --glass-4-border: rgba(0, 0, 0, 0.15);

  --background: #fafafa;
  --foreground: var(--text-primary);
}

.dark {
  --background: var(--lum-void-surface);
  --foreground: var(--text-primary);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  
  --color-void: var(--lum-void-deep);
  --color-deep-space: var(--lum-void-surface);
  
  --color-neon-primary-start: var(--neon-primary-start);
  --color-neon-primary-end: var(--neon-primary-end);
  --color-neon-secondary-start: var(--neon-secondary-start);
  --color-neon-secondary-end: var(--neon-secondary-end);
  
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-disabled: var(--text-disabled);

  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-jetbrains-mono), ui-monospace, SFMono-Regular, monospace;

  --animate-spotlight: spotlight 2s ease .75s 1 forwards;
  --animate-gradient-xy: gradient-xy 18s ease infinite;
  --animate-heartbeat: heartbeat 4s ease-in-out infinite;

  @keyframes spotlight {
    0% {
      opacity: 0;
      transform: translate(-72%, -62%) scale(0.5);
    }
    100% {
      opacity: 1;
      transform: translate(-50%,-40%) scale(1);
    }
  }

  @keyframes gradient-xy {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes heartbeat {
    0%, 100% { opacity: 0.9; transform: scale(1); }
    40% { opacity: 1; transform: scale(1.015); }
    60% { opacity: 0.95; transform: scale(0.995); }
  }

  @keyframes shimmer-border {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 153, 0.4); }
    50% { box-shadow: 0 0 40px rgba(0, 255, 153, 0.7); }
  }

  @keyframes morph {
    0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
    50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   GLOBAL STYLES — Interface as an Organism
   ═══════════════════════════════════════════════════════════════════════════════ */
body {
  color: var(--text-primary);
  font-family: var(--font-sans);
  overflow-x: hidden;
  min-height: 100vh;
  position: relative;
  transition: background 0.4s ease, color 0.3s ease;
  /* Light mode default background */
  background: linear-gradient(180deg, #fafafa 0%, #f5f3f7 100%) !important;
}

/* Dark mode background - using .dark class on html */
html.dark body,
.dark body {
  background: radial-gradient(ellipse at 20% 0%, rgba(28, 18, 48, 0.8) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(26, 15, 41, 0.6) 0%, transparent 40%),
    radial-gradient(ellipse at 40% 80%, rgba(15, 10, 26, 0.7) 0%, transparent 50%),
    #08040C !important;
}

/* High contrast backgrounds */
html.dark[data-contrast="high"] body,
.dark[data-contrast="high"] body {
  background: #000000 !important;
}

html:not(.dark)[data-contrast="high"] body {
  background: #ffffff !important;
}

/* Noise Texture - reduced in light mode */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

/* High Contrast Mode — Dark */
.dark[data-contrast="high"] {
  --background: #000000;
  --foreground: #ffffff;
  --text-primary: #ffffff;
  --text-secondary: #e5e5e5;
  --text-tertiary: #cccccc;
  --lum-void-deep: #000000;
  --lum-void-surface: #0a0a0a;
  --glass-ghost-fill: #0a0a0a;
  --glass-prism-fill: #0a0a0a;
  --glass-lume-fill: #111111;
  --glass-1-fill: #0a0a0a;
  --glass-2-fill: #0a0a0a;
  --glass-3-fill: #111111;
  --glass-4-fill: #111111;
  --glass-1-border: #00e5ff;
  --glass-2-border: #00e5ff;
  --glass-3-border: #00e5ff;
  --glass-4-border: #00e5ff;
}

/* High Contrast Mode — Light */
html:not(.dark)[data-contrast="high"] {
  --background: #ffffff;
  --foreground: #000000;
  --text-primary: #000000;
  --text-secondary: #1a1a1a;
  --text-tertiary: #333333;
  --lum-void-deep: #ffffff;
  --lum-void-surface: #ffffff;
  --glass-ghost-fill: #ffffff;
  --glass-prism-fill: #ffffff;
  --glass-lume-fill: #ffffff;
  --glass-1-fill: #ffffff;
  --glass-2-fill: #ffffff;
  --glass-3-fill: #ffffff;
  --glass-4-fill: #ffffff;
  --glass-1-border: #000000;
  --glass-2-border: #000000;
  --glass-3-border: #000000;
  --glass-4-border: #000000;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TYPOGRAPHY — Variable Personality with "Weight Shift"
   Headlines are tight (-0.04em), Body is loose (0.01em)
   ───────────────────────────────────────────────────────────────────────────── */
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  line-height: 1.1;
  letter-spacing: -0.04em;
  transition: font-weight 0.35s var(--spring-smooth), 
              letter-spacing 0.35s var(--spring-smooth),
              text-shadow 0.35s var(--spring-smooth);
}

/* Weight Shift on hover — 700 → 850 */
h1:hover, h2:hover, h3:hover {
  font-weight: 850;
  letter-spacing: -0.035em;
}

/* Hover weight shift utility class */
.hover-weight-shift {
  transition: font-weight 0.35s var(--spring-smooth);
}
.hover-weight-shift:hover {
  font-weight: 850;
}

p {
  line-height: 1.6;
  color: var(--text-secondary);
  letter-spacing: 0.01em;
}

/* Text glow effect */
.text-glow {
  text-shadow: var(--text-glow-primary);
}

.text-glow-secondary {
  text-shadow: var(--text-glow-secondary);
}

/* Glass legibility */
.on-glass {
  text-shadow: var(--text-glass-shadow);
}

/* Glass Utilities */
.glass-0 {
  background: transparent;
  backdrop-filter: none;
  border: none;
}

.glass-1 {
  background: var(--glass-1-fill);
  backdrop-filter: blur(var(--glass-1-blur));
  border: 1px solid var(--glass-1-border);
}

.glass-2 {
  background: var(--glass-2-fill);
  backdrop-filter: blur(var(--glass-2-blur));
  border: 1px solid var(--glass-2-border);
}

.glass-3 {
  background: var(--glass-3-fill);
  backdrop-filter: blur(var(--glass-3-blur));
  border: 1px solid var(--glass-3-border);
}

.glass-4 {
  background: var(--glass-4-fill);
  backdrop-filter: blur(var(--glass-4-blur));
  border: 1px solid var(--glass-4-border);
}

/* ─────────────────────────────────────────────────────────────────────────────
   PORTAL CARD — Glass-Prism Material with Shimmer Border
   ───────────────────────────────────────────────────────────────────────────── */
.prism-card {
  position: relative;
  background: var(--glass-prism-fill);
  backdrop-filter: blur(var(--glass-prism-blur));
  border-radius: 24px;
  border: 1px solid var(--glass-2-border);
  
  /* Shadow for depth */
  box-shadow: 0 4px 24px -4px rgba(0,0,0,0.1);
    
  transition: box-shadow 0.4s var(--spring-smooth), border-color 0.3s ease;
}

/* Dark mode specific card styling */
html.dark .prism-card {
  background: linear-gradient(
    145deg, 
    rgba(255,255,255,0.05) 0%, 
    rgba(255,255,255,0.01) 100%
  );
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
    0 20px 40px -10px rgba(0,0,0,0.4);
}

/* Hover states */
.prism-card:hover {
  border-color: var(--neon-primary-end);
  box-shadow: 0 8px 32px -4px rgba(0,0,0,0.15);
}

html.dark .prism-card:hover {
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
    0 25px 50px -12px rgba(0,0,0,0.5),
    0 0 30px -10px rgba(0, 255, 153, 0.15);
}

/* Glow variants based on category color */
.prism-card.glow-cyber-lime:hover {
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.5),
    inset 0 0 20px rgba(204, 255, 0, 0.1),
    0 30px 60px -12px rgba(0,0,0,0.6),
    0 0 50px -10px rgba(204, 255, 0, 0.4);
}

.prism-card.glow-cotton-candy:hover {
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.5),
    inset 0 0 20px rgba(255, 153, 204, 0.1),
    0 30px 60px -12px rgba(0,0,0,0.6),
    0 0 50px -10px rgba(255, 153, 204, 0.4);
}

.prism-card.glow-solar-flare:hover {
  box-shadow: 
    inset 0 1px 0 0 rgba(255, 255, 255, 0.5),
    inset 0 0 20px rgba(255, 204, 0, 0.1),
    0 30px 60px -12px rgba(0,0,0,0.6),
    0 0 50px -10px rgba(255, 204, 0, 0.4);
}

/* ─────────────────────────────────────────────────────────────────────────────
   SHIMMER BORDER — Subtle gradient border that glows on hover
   ───────────────────────────────────────────────────────────────────────────── */
.shimmer-border {
  position: relative;
}

.shimmer-border::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: inherit;
  background: linear-gradient(
    135deg, 
    rgba(204, 255, 0, 0.3), 
    rgba(0, 255, 153, 0.2), 
    rgba(51, 204, 255, 0.3), 
    rgba(255, 153, 204, 0.2),
    rgba(204, 255, 0, 0.3)
  );
  background-size: 200% 200%;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: shimmer-move 8s ease infinite;
  pointer-events: none;
  z-index: 1;
  opacity: 0.5;
  transition: opacity 0.4s var(--spring-smooth);
}

.shimmer-border:hover::before {
  opacity: 1;
}

@keyframes shimmer-move {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* ─────────────────────────────────────────────────────────────────────────────
   JELLY / HEARTBEAT — Living breathing components
   ───────────────────────────────────────────────────────────────────────────── */
.heartbeat {
  animation: var(--animate-heartbeat);
}

/* Jelly button squish effect */
.jelly-squish:active {
  transform: scale(0.95) scaleX(1.08);
  transition: transform 80ms var(--spring-elastic);
}

/* ─────────────────────────────────────────────────────────────────────────────
   CURSOR MAGNETISM — Interactive elements attract cursor
   ───────────────────────────────────────────────────────────────────────────── */
.magnetic {
  transition: transform 0.3s var(--spring-snappy);
}

/* ─────────────────────────────────────────────────────────────────────────────
   SQUISH SCROLL — Resistance at scroll boundaries
   ───────────────────────────────────────────────────────────────────────────── */
.squish-scroll {
  overscroll-behavior: contain;
}

.squish-scroll:active {
  transform: scaleY(0.99);
  transition: transform 180ms var(--spring-snappy);
}

/* ─────────────────────────────────────────────────────────────────────────────
   FLOATING BLOB NAVIGATION
   ───────────────────────────────────────────────────────────────────────────── */
.floating-blob {
  background: var(--glass-lume-fill);
  backdrop-filter: blur(var(--glass-lume-blur));
  box-shadow: 
    0 20px 50px -18px rgba(0,0,0,0.65),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
}

/* ─────────────────────────────────────────────────────────────────────────────
   ACCESSIBILITY — Prefer Reduced Motion & High Contrast
   ───────────────────────────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }
  .heartbeat { animation: none; }
  .shimmer-border::before { animation: none; }
  .prism-card:hover { transform: none; }
}

/* Entry animation stagger delays */
.stagger-1 { animation-delay: 0ms; }
.stagger-2 { animation-delay: 50ms; }
.stagger-3 { animation-delay: 100ms; }
.stagger-4 { animation-delay: 150ms; }
.stagger-5 { animation-delay: 200ms; }
.stagger-6 { animation-delay: 250ms; }
.stagger-7 { animation-delay: 300ms; }
.stagger-8 { animation-delay: 350ms; }

/* ─────────────────────────────────────────────────────────────────────────────
   TYPOGRAPHY SCALE — Luminous Type System
   Headlines tight (-0.04em), Body loose (0.01em)
   ───────────────────────────────────────────────────────────────────────────── */
.text-display-xl {
  font-size: clamp(3rem, 8vw, 5.5rem);
  line-height: 1;
  letter-spacing: -0.04em;
}

.text-display-l {
  font-size: clamp(2rem, 5vw, 3.5rem);
  line-height: 1.1;
  letter-spacing: -0.035em;
}

.text-display-m {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  line-height: 1.15;
  letter-spacing: -0.03em;
}

.text-display-s {
  font-size: clamp(1.5rem, 3vw, 2rem);
  line-height: 1.2;
  letter-spacing: -0.025em;
}

.text-title-l {
  font-size: clamp(1.375rem, 2.5vw, 1.75rem);
  line-height: 1.2;
  letter-spacing: -0.025em;
}

.text-title-m {
  font-size: clamp(1.125rem, 2vw, 1.375rem);
  line-height: 1.25;
  letter-spacing: -0.02em;
}

.text-title-s {
  font-size: 1rem;
  line-height: 1.3;
  letter-spacing: -0.015em;
}

.text-body-l {
  font-size: 1.125rem;
  line-height: 1.6;
  letter-spacing: 0.01em;
}

.text-body-m {
  font-size: 1rem;
  line-height: 1.6;
  letter-spacing: 0.01em;
}

.text-body-s {
  font-size: 0.875rem;
  line-height: 1.5;
  letter-spacing: 0.01em;
}

.text-label-s {
  font-size: 0.75rem;
  line-height: 1.4;
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.text-label-m {
  font-size: 0.8125rem;
  line-height: 1.4;
  letter-spacing: 0.015em;
}

/* ─────────────────────────────────────────────────────────────────────────────
   CHROMATIC ABERRATION — Subtle RGB split on glass edges
   ───────────────────────────────────────────────────────────────────────────── */
.chromatic-edge {
  position: relative;
}

.chromatic-edge::before,
.chromatic-edge::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s var(--spring-smooth);
}

.chromatic-edge::before {
  border: 1px solid rgba(255, 0, 0, 0.15);
  transform: translate(-1px, -1px);
}

.chromatic-edge::after {
  border: 1px solid rgba(0, 100, 255, 0.15);
  transform: translate(1px, 1px);
}

.chromatic-edge:hover::before,
.chromatic-edge:hover::after {
  opacity: 1;
}

/* ─────────────────────────────────────────────────────────────────────────────
   IRIDESCENCE — Oil-slick rainbow at glancing angles (Fresnel-like)
   ───────────────────────────────────────────────────────────────────────────── */
.iridescent {
  position: relative;
}

.iridescent::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    135deg,
    rgba(255, 0, 128, 0.05) 0%,
    rgba(0, 255, 255, 0.05) 25%,
    rgba(255, 255, 0, 0.05) 50%,
    rgba(128, 0, 255, 0.05) 75%,
    rgba(255, 0, 128, 0.05) 100%
  );
  background-size: 400% 400%;
  animation: iridescent-shift 12s ease infinite;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.5s var(--spring-smooth);
}

.iridescent:hover::before {
  opacity: 1;
}

@keyframes iridescent-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* ─────────────────────────────────────────────────────────────────────────────
   ENHANCED REDUCED MOTION — Comprehensive accessibility
   ───────────────────────────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.15s !important;
    scroll-behavior: auto !important;
  }
  
  .heartbeat,
  .shimmer-border::before,
  .iridescent::before { 
    animation: none !important; 
  }
  
  /* Disable 3D transforms */
  .prism-card:hover,
  .portal-card:hover {
    transform: none !important;
  }
  
  /* Use opacity changes instead of motion */
  .prism-card:hover,
  .portal-card:hover {
    opacity: 0.95;
  }
  
  /* Simpler hover states */
  h1:hover, h2:hover, h3:hover {
    font-weight: 700;
  }
}
